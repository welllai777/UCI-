# UCI-数据挖掘-UCI 数据集处理作业
目录
引言
原始数据分析
数据清理
特征离散化
特征归约
数据可视化
数据集成与数据仓库
代码
引言
随着心脏病成为全球主要的健康威胁，对相关数据的深入分析显得尤为重要。本报告基于 UCI 心脏病数据集，通过数据清理、特征处理、可视化分析及数据库设计等步骤，旨在挖掘数据中的关键信息，进行心脏病检测情况的研究和数据分析。
原始数据分析
数据文件包含 14 个属性，最后一项的预测结果意义如下：
0: 没有心脏病，血管直径狭窄小于 50%
1: 心脏病，血管直径狭窄大于 50%
2: 心脏病，血管直径狭窄大于 50%，并且有两处主要血管受累
3: 心脏病，血管直径狭窄大于 50%，并且有三处主要血管受累
4: 心脏病，血管直径狭窄大于 50%，并且有四处或更多主要血管受累
数据清理
发现并处理了少量异常情况（缺失值、异常值），在 303 条数据中只有六条异常，选择将它们删去，得到了清洗后的 cleaneddata.csv。
进行数据的整理，将文本型数据改成表格结构，添加列名（从英文缩写改写成其中文完整含义）并将部分表格数据改写成实际意义，方便后续的数据分析工作。
特征离散化
连续型变量：年龄、静息血压、血清总胆固醇、最大心率、ST 段下降
离散化方法：
等宽分箱：将数据范围等分成若干个区间。
等频分箱：将数据分成若干个区间，每个区间包含大致相同数量的数据点。
基于业务逻辑的分箱：根据领域知识和业务需求定义区间。
离散化策略：
年龄：采用等宽分箱的方法，将年龄分为几个年龄段，例如：20-30 岁、31-40 岁、41-50 岁、51-60 岁、61-70 岁、71 岁以上。
静息血压：采用等宽分箱的方法，将静息血压分为几个区间，例如：90-110mmHg、111-130mmHg、131-150mmHg、151-170mmHg、171mmHg 以上。
血清总胆固醇：采用等宽分箱的方法，将血清总胆固醇分为几个区间，例如：100-200mg/dl、201-240mg/dl、241-280mg/dl、281-320mg/dl、321mg/dl 以上。
最大心率：采用等宽分箱的方法，将最大心率分为几个区间，例如：50-100 次/分钟、101-130 次/分钟、131-160 次/分钟、161-190 次/分钟、191 次/分钟以上。
ST 段下降：采用等宽分箱的方法，将 ST 段下降分为几个区间，例如：0-0.5、0.6-1.0、1.1-1.5、1.6-2.0、2.1 以上。
特征归约
进行 PCA 降维，最初选择了 10 个主成分进行分析，并绘制累计方差贡献率图。
根据累计方差贡献率，选择前几个主成分（如 PC1 到 PC4）来保留大部分数据信息，同时显著降低数据维度。
数据可视化
年龄特征分布图：展示了不同年龄组在两种心脏病诊断分组（0 和 1）中的分布情况。随着年龄的增长，两个分组的频数都有所增加，且在 50 岁左右达到高峰，之后逐渐下降。诊断分组 1 在 50 岁左右的频数明显高于诊断分组 0，说明该年龄段可能是心脏病的高发阶段。
静息血压特征分布图：呈现了不同静息血压值在两种诊断分组中的分布。静息血压在 120mmHg 左右的患者频数较高，且诊断分组 1 在该血压范围内的频数相对较多，表明静息血压在 120mmHg 左右可能是心脏病患者的一个集中区间。
血清总胆固醇特征分布图：展示了血清总胆固醇在不同诊断分组中的分布情况。血清总胆固醇在 220mg/dl 和 260mg/dl 左右有两个明显的频数高峰，且在 220mg/dl 左右诊断分组 1 的频数较高，而在 260mg/dl 左右诊断分组 0 的频数相对较多，这可能暗示不同胆固醇水平与心脏病诊断结果之间存在一定的关联。
最大心率特征分布图：显示了最大心率在两种诊断分组中的分布。最大心率在 140 次 / 分左右的患者频数较高，且诊断分组 1 在该心率范围内的频数相对较多，而在 160 次 / 分左右诊断分组 0 的频数有所增加，这可能表明不同最大心率水平与心脏病诊断结果之间存在一定的联系。
相关性分析：
年龄与静息血压：相关系数为 0.29，表示两者有弱正相关。
年龄与血清总胆固醇：相关系数为 0.20，表示两者有弱正相关。
年龄与 ST 段下降：相关系数为 0.20，表示两者有弱正相关。
静息血压与血清总胆固醇：相关系数为 0.13，表示两者有弱正相关。
静息血压与 ST 段下降：相关系数为 0.19，表示两者有弱正相关。
最大心率与 ST 段下降：相关系数为-0.35，表示两者有弱负相关。
数据集成与数据仓库
创建数据库（shujuwajueUCI）
Python 连接 MySQL，并将数据集中数据存入数据库
查看表结构
展示存入数据库的表中所有数据
查询策略（年龄 41-50，心脏病诊断为 4 的人）
更新策略（更新 heart_disease_diagnosis 字段为 2）
